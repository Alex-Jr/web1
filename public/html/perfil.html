<html>
    <head>
        <meta charset="utf-8">
        <title>Perfil</title>
        <!-- <link rel="stylesheet" href="perfil.css"> -->
        <!-- <script type="text/javascript" src="perfil.js"></script> -->

        <script type="text/javascript" src="loggedPage.js"></script>

        <script>
            function deletarConta() {
                const xhttp = new XMLHttpRequest();
    
                xhttp.onreadystatechange = function() {
                    if (this.readyState == 4 && this.status == 200) {
                        logout()
                    }
                };
    
                xhttp.open("DELETE", `usuarios`, true);
    
                xhttp.send();
            }
        </script>

    </head>
    <body>
        <a href="/home.html">
            <button name="voltarhome" class="botao">Voltar</button>
        </a>
        <h1>Editar Perfil</h1>
        <form id="formulario" action="/perfil.html" method="POST">
                <div class='campo' id="erronome">
                    <label for="nome">Nome:</label>
                    <input type="text" id="nome" name="nome">
                </div>

                <div class="campo" id="erroemail">
                    <label for="email">E-mail:</label>
                    <input type="text" id="email" name="email"><br>
                </div>

                <div class="campo" id="errodata">
                    <label for="datanasc">Nascimento:</label>
                    <input type="date" id="datanasc" name="datanasc">
                </div>

                <div class="campo" id="errocpf">
                    <label for="cpf">CPF:</label>
                    <input type="text" id="cpf" name="cpf"><br>
                </div>

                <div class="campo" id="erronovasenha">
                    <label for="novasenha">Nova Senha:</label>
                    <input type="password" id="novasenha" name="senha">
                </div>
                
                <div class="campo" id="erronovasenhaconf">
                    <label for="confnovasenha">Confirmar Nova Senha:</label>
                    <input type="password" id="confnovasenha" name="confsenha"><br>
                </div>
                
                <div class="campo" id="errotel">
                    <label for="telefone">Telefone:</label>
                    <input type="tel" id="telefone" name="telefone">
                </div>

                <div class="botoes">
                    <!-- <input type="button" name="reset" value="Reset" class="botao" onclick="resetar()"> -->

                    <button type="submit" name="confirmar" class="botao" onclick=""> Confirmar </button>
                    <div id="errogeral"></div>
                </div>
                

        </form>
        <div>
            <h1>Zona Perigosa</h1>
            <button name="excluir" class="botao" onclick="deletarConta()">Excluir conta</button>
        </div>

    </body>
    
</html>